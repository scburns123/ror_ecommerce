!function(i){var t={autoPlay:!0,speed:5e3,text:{play:"",stop:"",previous:"Previous",next:"Next",loading:"Loading"},transition:[1],showCaption:!0,IESafe:!1,showTooltips:!1,carousel:!1,carouselVertical:!1,animationFinished:null,buildFinished:null,bindsFinished:null,startOn:0,thumbOpacity:.4,hoverPause:!1,animationSpeed:600,fadeThumbsIn:!1,carouselOptions:{},thumbChangeEvent:"click.pikachoose",stopOnClick:!1};i.fn.PikaChoose=function(t){return this.each(function(){i(this).data("pikachoose",new a(this,t))})},i.PikaChoose=function(a,s){if(this.options=i.extend({},t,s||{}),this.list=null,this.image=null,this.anchor=null,this.caption=null,this.imgNav=null,this.imgPlay=null,this.imgPrev=null,this.imgNext=null,this.textNext=null,this.textPrev=null,this.previous=null,this.next=null,this.aniWrap=null,this.aniDiv=null,this.aniImg=null,this.thumbs=null,this.transition=null,this.active=null,this.tooltip=null,this.animating=!1,this.stillOut=null,this.counter=null,this.timeOut=null,this.pikaStage=null,"undefined"!=typeof this.options.data&&(a=i("<ul></ul>").addClass("jcarousel-skin-pika").appendTo(a),i.each(this.options.data,function(){if("undefined"!=typeof this.link){var t=i("<li><a href='"+this.link+"'><img></a></li>").appendTo(a);"undefined"!=typeof this.title&&t.find("a").attr("title",this.title)}else var t=i("<li><img></li>").appendTo(a);"undefined"!=typeof this.caption&&t.append("<span>"+this.caption+"</span>"),"undefined"!=typeof this.thumbnail?(t.find("img").attr("ref",this.image),t.find("img").attr("src",this.thumbnail)):t.find("img").attr("src",this.image)})),a instanceof jQuery||"UL"==a.nodeName.toUpperCase()||"OL"==a.nodeName.toUpperCase()){this.list=i(a),this.build(),this.bindEvents();for(var e=0,n=0,o=0;25>o;o++){var h='<div col="'+e+'" row="'+n+'"></div>';this.aniDiv.append(h),e++,5==e&&(n++,e=0)}}};var a=i.PikaChoose;a.fn=a.prototype={pikachoose:"4.4.8"},i.fn.pikachoose=i.fn.PikaChoose,a.fn.extend=a.extend=i.extend,a.fn.extend({build:function(){this.step=0,this.options.pikaStage?(this.wrap=this.options.pikaStage,this.wrap.addClass("pika-stage")):this.wrap=i("<div class='pika-stage'></div>").insertBefore(this.list),this.image=i("<img>").appendTo(this.wrap),this.imgNav=i("<div class='pika-imgnav'></div>").insertAfter(this.image),this.imgPlay=i("<a></a>").appendTo(this.imgNav),this.counter=i("<span class='pika-counter'></span>").appendTo(this.imgNav),this.imgPlay.addClass(this.options.autoPlay?"pause":"play"),this.imgPrev=i("<a class='previous'></a>").insertAfter(this.imgPlay),this.imgNext=i("<a class='next'></a>").insertAfter(this.imgPrev),this.caption=i("<div class='caption'></div>").insertAfter(this.imgNav).hide(),this.tooltip=i("<div class='pika-tooltip'></div>").insertAfter(this.list).hide(),this.aniWrap=i("<div class='pika-aniwrap'></div>").insertAfter(this.caption),this.aniImg=i("<img>").appendTo(this.aniWrap).hide(),this.aniDiv=i("<div class='pika-ani'></div>").appendTo(this.aniWrap),this.textNav=i("<div class='pika-textnav'></div>").insertAfter(this.aniWrap),this.textPrev=i("<a class='previous'>"+this.options.text.previous+"</a>").appendTo(this.textNav),this.textNext=i("<a class='next'>"+this.options.text.next+"</a>").appendTo(this.textNav),this.list.addClass("pika-thumbs"),this.thumbs=this.list.find("img"),this.loader=i("<div class='pika-loader'></div>").appendTo(this.wrap).hide().html(this.options.text.loading),this.active=this.thumbs.eq(this.options.startOn),this.finishAnimating({index:this.options.startOn,source:this.active.attr("ref")||this.active.attr("src"),caption:this.active.parents("li:first").find("span:first").html(),clickThrough:this.active.parent().attr("href")||"",clickThroughTarget:this.active.parent().attr("target")||"",clickThroughTitle:this.active.parent().attr("title")||""}),this.aniDiv.css({position:"relative"});var t=this;if(this.updateThumbs(),this.options.fadeThumbsIn&&this.list.fadeIn(),this.options.carousel){var a={vertical:this.options.carouselVertical,initCallback:function(i){jQuery(i.list).find("img").click(function(a,s){if("undefined"!=typeof s&&"auto"==s.how&&0==t.options.autoPlay)return!1;var e=parseInt(jQuery(this).parents(".jcarousel-item").attr("jcarouselindex")),n=jQuery(this).parents("ul").find("li:last").attr("jcarouselindex")==e-1?!0:!1;n||(e=0>=e-2?0:e-2),e++,i.scroll(e)})}},s=i.extend({},a,this.options.carouselOptions||{});this.list.jcarousel(s)}"function"==typeof this.options.buildFinished&&this.options.buildFinished(this)},createThumb:function(t){var a=t,s=this;if(this.thumbs=this.list.find("img"),"undefined"==typeof i.data(t[0],"source")){t.parents("li:first").wrapInner("<div class='clip' />"),a.hide(),i.data(t[0],"clickThrough",a.parent("a").attr("href")||""),i.data(t[0],"clickThroughTarget",a.parent("a").attr("target")||""),i.data(t[0],"clickThroughTitle",a.parent("a").attr("title")||""),a.parent("a").length>0&&a.unwrap(),i.data(t[0],"caption",a.next("span").html()||""),a.next("span").remove(),i.data(t[0],"source",a.attr("ref")||a.attr("src")),i.data(t[0],"imageTitle",a.attr("title")||""),i.data(t[0],"imageAlt",a.attr("alt")||""),i.data(t[0],"index",this.thumbs.index(t)),i.data(t[0],"order",a.closest("ul").find("li").index(a.parents("li")));var e=i.data(t[0]);i("<img />").bind("load",{data:e},function(){"function"==typeof s.options.buildThumbStart&&s.options.buildThumbStart(s);var t=i(this),n=this.width,o=this.height;0===n&&(n=t.attr("width")),0===o&&(o=t.attr("height"));var h=parseInt(a.parents(".clip").css("height").slice(0,-2)),l=parseInt(a.parents(".clip").css("width").slice(0,-2));0==l&&(l=a.parents("li:first").outerWidth()),0==h&&(h=a.parents("li:first").outerHeight());var r=l/n,p=h/o;a.css(p>r?{height:"100%"}:{width:"100%"}),a.hover(function(){clearTimeout(s.stillOut),i(this).stop(!0,!0).fadeTo(250,1),s.options.showTooltips&&s.tooltip.show().stop(!0,!0).html(e.caption).animate({top:i(this).parent().position().top,left:i(this).parent().position().left,opacity:1},"fast")},function(){i(this).hasClass("active")||(i(this).stop(!0,!0).fadeTo(250,s.options.thumbOpacity),s.stillOut=setTimeout(s.hideTooltip,700))}),e.order==s.options.startOn?(a.fadeTo(250,1),a.addClass("active"),a.parents("li").eq(0).addClass("active")):a.fadeTo(250,s.options.thumbOpacity),"function"==typeof s.options.buildThumbFinish&&s.options.buildThumbFinish(s)}).attr("src",a.attr("src"))}},bindEvents:function(){this.thumbs.bind(this.options.thumbChangeEvent,{self:this},this.imgClick),this.imgNext.bind("click.pikachoose",{self:this},this.nextClick),this.textNext.bind("click.pikachoose",{self:this},this.nextClick),this.imgPrev.bind("click.pikachoose",{self:this},this.prevClick),this.textPrev.bind("click.pikachoose",{self:this},this.prevClick),this.imgPlay.unbind("click.pikachoose").bind("click.pikachoose",{self:this},this.playClick),this.wrap.unbind("mouseenter.pikachoose").bind("mouseenter.pikachoose",{self:this},function(i){i.data.self.imgNav.stop(!0,!0).fadeTo("slow",1),1==i.data.self.options.hoverPause&&clearTimeout(i.data.self.timeOut)}),this.wrap.unbind("mouseleave.pikachoose").bind("mouseleave.pikachoose",{self:this},function(i){i.data.self.imgNav.stop(!0,!0).fadeTo("slow",0),1==i.data.self.options.autoPlay&&i.data.self.options.hoverPause&&(i.data.self.timeOut=setTimeout(function(i){return function(){i.nextClick()}}(i.data.self),i.data.self.options.speed))}),this.tooltip.unbind("mouseenter.pikachoose").bind("mouseenter.pikachoose",{self:this},function(i){clearTimeout(i.data.self.stillOut)}),this.tooltip.unbind("mouseleave.pikachoose").bind("mouseleave.pikachoose",{self:this},function(i){i.data.self.stillOut=setTimeout(i.data.self.hideTooltip,700)}),"function"==typeof this.options.bindsFinished&&this.options.bindsFinished(this)},hideTooltip:function(){i(".pika-tooltip").animate({opacity:.01})},imgClick:function(t,a){var s=t.data.self,e=i.data(this);if(!s.animating){if("undefined"==typeof a||"auto"!=a.how)s.options.autoPlay&&s.options.stopOnClick?s.imgPlay.trigger("click"):clearTimeout(s.timeOut);else if(0==s.options.autoPlay)return!1;i(this).attr("src")!==i.data(this).source&&s.loader.fadeIn("fast"),s.caption.fadeOut("slow"),s.animating=!0,s.active.fadeTo(300,s.options.thumbOpacity).removeClass("active"),s.active.parents(".active").eq(0).removeClass("active"),s.active=i(this),s.active.addClass("active").fadeTo(200,1),s.active.parents("li").eq(0).addClass("active"),i("<img />").bind("load",{self:s,data:e},function(){s.loader.fadeOut("fast"),s.aniDiv.css({height:s.image.height(),width:s.image.width()}).show(),s.aniDiv.children("div").css({width:"20%",height:"20%","float":"left"});var t=0;-1==s.options.transition[0]?t=Math.floor(7*Math.random())+1:(t=s.options.transition[s.step],s.step++,s.step>=s.options.transition.length&&(s.step=0)),s.options.IESafe&&i.browser.msie&&(t=1),s.doAnimation(t,e)}).attr("src",i.data(this).source)}},doAnimation:function(t,a){this.aniWrap.css({position:"absolute",top:this.wrap.css("padding-top"),left:this.wrap.css("padding-left"),width:this.wrap.width()});var s=this;s.image.stop(!0,!1),s.caption.stop().fadeOut();var e=s.aniDiv.children("div").eq(0).width(),n=s.aniDiv.children("div").eq(0).height(),o=new Image;switch(i(o).attr("src",a.source),o.height!=s.image.height()||o.width!=s.image.width(),s.aniDiv.css({height:s.image.height(),width:s.image.width()}),s.aniDiv.children().each(function(){var t=i(this),s=Math.floor(t.parent().width()/5)*t.attr("col"),e=Math.floor(t.parent().height()/5)*t.attr("row");t.css({background:"url("+a.source+") -"+s+"px -"+e+"px","background-size":t.parent().width()+"px "+t.parent().height()+"px",width:"0px",height:"0px",position:"absolute",top:e+"px",left:s+"px","float":"none"})}),s.aniDiv.hide(),s.aniImg.hide(),t){case 0:s.image.stop(!0,!0).fadeOut(s.options.animationSpeed,function(){s.image.attr("src",a.source).fadeIn(s.options.animationSpeed,function(){s.finishAnimating(a)})});break;case 1:s.aniDiv.hide(),s.aniImg.height(s.image.height()).hide().attr("src",a.source),s.wrap.css({height:s.image.height()}),i.when(s.image.fadeOut(s.options.animationSpeed),s.aniImg.eq(0).fadeIn(s.options.animationSpeed)).done(function(){s.finishAnimating(a)});break;case 2:s.aniDiv.show().children().hide().each(function(t){var o=30*t;i(this).css({opacity:.1}).show().delay(o).animate({opacity:1,width:e,height:n},200,"linear",function(){24==s.aniDiv.find("div").index(this)&&s.finishAnimating(a)})});break;case 3:s.aniDiv.show().children("div:lt(5)").hide().each(function(){var t=100*i(this).attr("col");i(this).css({opacity:.1,width:e}).show().delay(t).animate({opacity:1,height:s.image.height()},s.options.animationSpeed,"linear",function(){4==s.aniDiv.find(" div").index(this)&&s.finishAnimating(a)})});break;case 4:s.aniDiv.show().children().hide().each(function(t){if(!(t>4)){var o=30*i(this).attr("col"),h=s.gapper(i(this),n,e),l=.7*s.options.animationSpeed;i(this).css({opacity:.1,height:"100%"}).show().delay(o).animate({opacity:1,width:h.width},l,"linear",function(){4==s.aniDiv.find(" div").index(this)&&s.finishAnimating(a)})}});break;case 5:s.aniDiv.show().children().show().each(function(t){var o=t*Math.floor(5*Math.random())*7,h=s.gapper(i(this),n,e);24==i(".animation div").index(this)&&(o=700),i(this).css({height:h.height,width:h.width,opacity:.01}).delay(o).animate({opacity:1},s.options.animationSpeed,function(){24==s.aniDiv.find(" div").index(this)&&s.finishAnimating(a)})});break;case 6:s.aniDiv.height(s.image.height()).hide().css({background:"url("+a.source+") top left no-repeat"}),s.aniDiv.children("div").hide(),s.aniDiv.css({width:0}).show().animate({width:s.image.width()},s.options.animationSpeed,function(){s.finishAnimating(a),s.aniDiv.css({background:"transparent"})});break;case 7:s.wrap.css({overflow:"hidden"}),s.aniImg.height(s.image.height()).hide().attr("src",a.source),s.aniDiv.hide(),s.image.css({position:"relative"}).animate({left:"-"+s.wrap.outerWidth()+"px"}),s.aniImg.show(),s.aniWrap.css({left:s.wrap.outerWidth()}).show().animate({left:"0px"},s.options.animationSpeed,function(){s.finishAnimating(a)})}},finishAnimating:function(t){this.animating=!1,this.image.attr("src",t.source),this.image.attr("alt",t.imageAlt),this.image.attr("title",t.imageTitle),this.image.css({left:"0"}),this.image.show();var a=this;i("<img />").bind("load",function(){a.aniImg.fadeOut("fast"),a.aniDiv.fadeOut("fast")}).attr("src",t.source);var s=t.index+1,e=this.thumbs.length;if(this.counter.html(s+"/"+e),""!=t.clickThrough?(null==this.anchor&&(this.anchor=this.image.wrap("<a>").parent()),this.anchor.attr("href",t.clickThrough),this.anchor.attr("title",t.clickThroughTitle),this.anchor.attr("target",t.clickThroughTarget)):(this.image.parent("a").length>0&&this.image.unwrap(),this.anchor=null),this.options.showCaption&&""!=t.caption&&null!=t.caption&&this.caption.html(t.caption).fadeTo("slow",1),1==this.options.autoPlay){var a=this;this.timeOut=setTimeout(function(i){return function(){i.nextClick()}}(this),this.options.speed,this.timeOut)}"function"==typeof this.options.animationFinished&&this.options.animationFinished(this)},gapper:function(i,t,a){var s;return 4==i.attr("row")&&(s=this.aniDiv.height()-5*t+t,t=s),4==i.attr("col")&&(s=this.aniDiv.width()-5*a+a,a=s),{height:t,width:a}},nextClick:function(i){var t="natural";try{var a=i.data.self;"function"==typeof i.data.self.options.next&&i.data.self.options.next(this)}catch(s){var a=this;t="auto"}var e=a.active.parents("li:first").next().find("img");0==e.length&&(e=a.list.find("img").eq(0)),e.trigger("click",{how:t})},prevClick:function(i){"function"==typeof i.data.self.options.previous&&i.data.self.options.previous(this);var t=i.data.self,a=t.active.parents("li:first").prev().find("img");0==a.length&&(a=t.list.find("img:last")),a.trigger("click")},playClick:function(i){var t=i.data.self;t.options.autoPlay=!t.options.autoPlay,t.imgPlay.toggleClass("play").toggleClass("pause"),t.options.autoPlay&&t.nextClick()},Next:function(){var i={data:{self:this}};this.nextClick(i)},Prev:function(){var i={data:{self:this}};this.prevClick(i)},Play:function(){if(!this.options.autoPlay){var i={data:{self:this}};this.playClick(i)}},Pause:function(){if(this.options.autoPlay){var i={data:{self:this}};this.playClick(i)}},updateThumbs:function(){var t=this;this.thumbs=this.list.find("img"),this.thumbs.each(function(){t.createThumb(i(this),t)})}})}(jQuery);