!function(e){"use strict";var i=!1;e(document).on("click","a[data-reveal-id]",function(i){i.preventDefault();var a=e(this).attr("data-reveal-id");e("#"+a).reveal(e(this).data())}),e.fn.reveal=function(a){var n={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:e.noop,opened:e.noop,close:e.noop,closed:e.noop};return a=e.extend({},n,a),this.each(function(){function n(){m=!1}function o(){m=!0}function l(){var a=e(".reveal-modal.open");1===a.length&&(i=!0,e(".reveal-modal.open").trigger("reveal:close"))}function t(){m||(o(),l(c),c.addClass("open"),"fadeAndPop"===a.animation&&(c.css({top:e(document).scrollTop()-v,opacity:0,visibility:"visible",display:"block"}),u.fadeIn(a.animationSpeed/2),c.delay(a.animationSpeed/2).animate({top:e(document).scrollTop()+p+"px",opacity:1},a.animationSpeed,function(){c.trigger("reveal:opened")})),"fade"===a.animation&&(c.css({opacity:0,visibility:"visible",display:"block",top:e(document).scrollTop()+p}),u.fadeIn(a.animationSpeed/2),c.delay(a.animationSpeed/2).animate({opacity:1},a.animationSpeed,function(){c.trigger("reveal:opened")})),"none"===a.animation&&(c.css({visibility:"visible",display:"block",top:e(document).scrollTop()+p}),u.css({display:"block"}),c.trigger("reveal:opened")))}function d(){m||(o(),c.removeClass("open"),"fadeAndPop"===a.animation&&(c.animate({top:e(document).scrollTop()-v+"px",opacity:0},a.animationSpeed/2,function(){c.css({top:p,opacity:1,visibility:"hidden",display:"none"})}),i?c.trigger("reveal:closed"):u.delay(a.animationSpeed).fadeOut(a.animationSpeed,function(){c.trigger("reveal:closed")}),i=!1),"fade"===a.animation&&(c.animate({opacity:0},a.animationSpeed,function(){c.css({opacity:1,visibility:"hidden",display:"none",top:p})}),i?c.trigger("reveal:closed"):u.delay(a.animationSpeed).fadeOut(a.animationSpeed,function(){c.trigger("reveal:closed")})),"none"===a.animation&&(c.css({visibility:"hidden",display:"block",top:p}),i||u.css({display:"none"}),c.trigger("reveal:closed")))}function r(){c.unbind(".reveal"),u.unbind(".reveal"),e("."+a.dismissModalClass).unbind(".reveal"),e("body").unbind(".reveal")}var s,c=e(this),p=parseInt(c.css("top"),10),v=c.height()+p,m=!1,u=e(".reveal-modal-bg");0===u.length&&(u=e('<div class="reveal-modal-bg" />').insertAfter(c),u.fadeTo("fast",.8)),c.bind("reveal:open.reveal",t),c.bind("reveal:close.reveal",d),c.bind("reveal:opened.reveal reveal:closed.reveal",n),c.bind("reveal:closed.reveal",r),c.bind("reveal:open.reveal",a.open),c.bind("reveal:opened.reveal",a.opened),c.bind("reveal:close.reveal",a.close),c.bind("reveal:closed.reveal",a.closed),c.trigger("reveal:open"),s=e("."+a.dismissModalClass).bind("click.reveal",function(){c.trigger("reveal:close")}),a.closeOnBackgroundClick&&(u.css({cursor:"pointer"}),u.bind("click.reveal",function(){c.trigger("reveal:close")})),e("body").bind("keyup.reveal",function(e){27===e.which&&c.trigger("reveal:close")})})}}(jQuery);