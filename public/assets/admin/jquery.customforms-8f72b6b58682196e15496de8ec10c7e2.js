jQuery.foundation=jQuery.foundation||{},jQuery.foundation.customForms=jQuery.foundation.customForms||{},jQuery(document).ready(function(e){function t(t){e("form.custom input:"+t).each(function(){var o=e(this).hide(),s=o.next("span.custom."+t);0===s.length&&(s=e('<span class="custom '+t+'"></span>').insertAfter(o)),s.toggleClass("checked",o.is(":checked")),s.toggleClass("disabled",o.is(":disabled"))})}function o(t){var o,s=e(t),n=s.next("div.custom.dropdown"),i=s.find("option"),c=0;s.hasClass("no-custom")||(0===n.length?($customSelectSize="",e(t).hasClass("small")?$customSelectSize="small":e(t).hasClass("medium")?$customSelectSize="medium":e(t).hasClass("large")?$customSelectSize="large":e(t).hasClass("expand")&&($customSelectSize="expand"),n=e('<div class="custom dropdown '+$customSelectSize+'"><a href="#" class="selector"></a><ul></ul></div>"'),i.each(function(){o=e("<li>"+e(this).html()+"</li>"),n.find("ul").append(o)}),n.prepend('<a href="#" class="current">'+i.first().html()+"</a>"),s.after(n),s.hide()):(n.find("ul").html(""),i.each(function(){o=e("<li>"+e(this).html()+"</li>"),n.find("ul").append(o)})),n.toggleClass("disabled",s.is(":disabled")),i.each(function(t){this.selected&&(n.find("li").eq(t).addClass("selected"),n.find(".current").html(e(this).html()))}),n.css("width","inherit"),n.find("ul").css("width","inherit"),n.find("li").each(function(){n.addClass("open"),e(this).outerWidth()>c&&(c=e(this).outerWidth()),n.removeClass("open")}),n.is(".small, .medium, .large, .expand")||(n.css("width",c+18+"px"),n.find("ul").css("width",c+16+"px")))}e.foundation.customForms.appendCustomMarkup=function(){t("checkbox"),t("radio"),e("form.custom select").each(function(){o(this)})},e.foundation.customForms.appendCustomMarkup()}),function(e){function t(t){var o=0,s=t.next();$options=t.find("option"),s.find("ul").html(""),$options.each(function(){$li=e("<li>"+e(this).html()+"</li>"),s.find("ul").append($li)}),$options.each(function(t){this.selected&&(s.find("li").eq(t).addClass("selected"),s.find(".current").html(e(this).html()))}),s.removeAttr("style").find("ul").removeAttr("style"),s.find("li").each(function(){s.addClass("open"),e(this).outerWidth()>o&&(o=e(this).outerWidth()),s.removeClass("open")}),s.css("width",o+18+"px"),s.find("ul").css("width",o+16+"px")}function o(e){var t=e.prev(),o=t[0];0==t.is(":disabled")&&(o.checked=o.checked?!1:!0,e.toggleClass("checked"),t.trigger("change"))}function s(t){var o=t.prev(),s=o[0];0==o.is(":disabled")&&(e('input:radio[name="'+o.attr("name")+'"]').each(function(){e(this).next().removeClass("checked")}),s.checked=s.checked?!1:!0,t.toggleClass("checked"),o.trigger("change"))}e(document).on("click","form.custom span.custom.checkbox",function(t){t.preventDefault(),t.stopPropagation(),o(e(this))}),e(document).on("click","form.custom span.custom.radio",function(t){t.preventDefault(),t.stopPropagation(),s(e(this))}),e(document).on("change","form.custom select",function(){t(e(this))}),e("form.custom").on("click","label",function(t){var n,i,c=e("#"+e(this).attr("for"));0!==c.length&&("checkbox"===c.attr("type")?(t.preventDefault(),n=e(this).find("span.custom.checkbox"),o(n)):"radio"===c.attr("type")&&(t.preventDefault(),i=e(this).find("span.custom.radio"),s(i)))}),e(document).on("click","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(t){var o=e(this),s=o.closest("div.custom.dropdown"),n=s.prev();return t.preventDefault(),e("div.dropdown").removeClass("open"),0==n.is(":disabled")?(s.toggleClass("open"),s.hasClass("open")?e(document).bind("click.customdropdown",function(){s.removeClass("open"),e(document).unbind(".customdropdown")}):e(document).unbind(".customdropdown"),!1):void 0}),e("form.custom div.custom.dropdown").on("click","li",function(t){var o=e(this),s=o.closest("div.custom.dropdown"),n=s.prev(),i=0;t.preventDefault(),t.stopPropagation(),e("div.dropdown").removeClass("open"),o.closest("ul").find("li").removeClass("selected"),o.addClass("selected"),s.removeClass("open").find("a.current").html(o.html()),o.closest("ul").find("li").each(function(e){o[0]==this&&(i=e)}),n[0].selectedIndex=i,n.trigger("change")})}(jQuery);