var Hadean=window.Hadean||{};Hadean.Utility={registerOnLoadHandler:function(e){jQuery(window).ready(e)}},Hadean.AdminMerchandiseProductForm={productCheckboxesDiv:"#product_properties",prototypeSelectId:"#product_prototype_id",formController:"/admin/merchandise/products",productId:null,initialize:function(e){this.productId=e;var r=jQuery(Hadean.AdminMerchandiseProductForm.prototypeSelectId);r.bind("change",function(){Hadean.AdminMerchandiseProductForm.addProperties(jQuery(Hadean.AdminMerchandiseProductForm.prototypeSelectId+" option:selected").first().val())})},addProperties:function(e){"undefined"==typeof e||0==e?$("#product_properties").children().fadeIn():jQuery.ajax({type:"GET",url:MerchProductForm.formController+"/"+e+"/add_properties",data:{product_id:Hadean.AdminMerchandiseProductForm.productId},complete:function(e){Hadean.AdminMerchandiseProductForm.refreshProductForm(e)},dataType:"json"})},refreshProductForm:function(e){properties=JSON.parse(e.responseText),jQuery.each(properties.active,function(e,r){jQuery("#property_"+r).fadeIn()}),jQuery.each(properties.inactive,function(e,r){propertyId="#property_"+r,jQuery(propertyId).hide(),jQuery(propertyId+" input:text")[0].value=""})}},MerchProductForm=Hadean.AdminMerchandiseProductForm;